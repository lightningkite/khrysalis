"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// Generated by Khrysalis TypeScript converter
// File: observables/binding/CompoundButton.binding.actual.kt
// Package: com.lightningkite.khrysalis.observables.binding
const ObservableProperty_ext_shared_1 = require("../ObservableProperty.ext.shared");
const DisposeCondition_actual_1 = require("../../rx/DisposeCondition.actual");
const Language_1 = require("../../kotlin/Language");
let runtimeGeneratedId = 0;
function fixInput(i) {
    const p = i.parentElement;
    if (p instanceof HTMLLabelElement) {
        let gen = `runtime_gen_${runtimeGeneratedId++}`;
        i.id = gen;
        p.htmlFor = gen;
    }
}
//! Declares com.lightningkite.khrysalis.observables.binding.bindSelect>android.widget.CompoundButton
function androidWidgetCompoundButtonBindSelect(this_, value, observable) {
    fixInput(this_);
    DisposeCondition_actual_1.ioReactivexDisposablesDisposableUntil(ObservableProperty_ext_shared_1.comLightningkiteKhrysalisObservablesObservablePropertySubscribeBy(observable, undefined, undefined, (it) => {
        const shouldBeChecked = Language_1.safeEq(it, value);
        if (!(this_.checked === shouldBeChecked)) {
            this_.checked = shouldBeChecked;
        }
    }), DisposeCondition_actual_1.getAndroidViewViewRemoved(this_));
    this_.onchange = ((ev) => {
        const isChecked = this_.checked;
        if (isChecked && !(Language_1.safeEq(observable.value, value))) {
            observable.value = value;
        }
        else if (!isChecked && Language_1.safeEq(observable.value, value)) {
            this_.checked = true;
        }
    });
}
exports.androidWidgetCompoundButtonBindSelect = androidWidgetCompoundButtonBindSelect;
//! Declares com.lightningkite.khrysalis.observables.binding.bindSelectNullable>android.widget.CompoundButton
function androidWidgetCompoundButtonBindSelectNullable(this_, value, observable) {
    fixInput(this_);
    DisposeCondition_actual_1.ioReactivexDisposablesDisposableUntil(ObservableProperty_ext_shared_1.comLightningkiteKhrysalisObservablesObservablePropertySubscribeBy(observable, undefined, undefined, (it) => {
        const shouldBeChecked = Language_1.safeEq(it, value);
        if (!(this_.checked === shouldBeChecked)) {
            this_.checked = shouldBeChecked;
        }
    }), DisposeCondition_actual_1.getAndroidViewViewRemoved(this_));
    this_.onchange = ((ev) => {
        const isChecked = this_.checked;
        if (isChecked && !(Language_1.safeEq(observable.value, value))) {
            observable.value = value;
        }
        else if (!isChecked && Language_1.safeEq(observable.value, value)) {
            observable.value = null;
        }
    });
}
exports.androidWidgetCompoundButtonBindSelectNullable = androidWidgetCompoundButtonBindSelectNullable;
//! Declares com.lightningkite.khrysalis.observables.binding.bindSelectInvert>android.widget.CompoundButton
function androidWidgetCompoundButtonBindSelectInvert(this_, value, observable) {
    fixInput(this_);
    let suppress = false;
    DisposeCondition_actual_1.ioReactivexDisposablesDisposableUntil(ObservableProperty_ext_shared_1.comLightningkiteKhrysalisObservablesObservablePropertySubscribeBy(observable, undefined, undefined, (it) => {
        if (!suppress) {
            suppress = true;
            const shouldBeChecked = Language_1.safeEq(it, value) || Language_1.safeEq(it, null);
            if (!(this_.checked === shouldBeChecked)) {
                this_.checked = shouldBeChecked;
            }
            suppress = false;
        }
    }), DisposeCondition_actual_1.getAndroidViewViewRemoved(this_));
    this_.onchange = ((ev) => {
        const isChecked = this_.checked;
        if (!suppress) {
            suppress = true;
            if (!isChecked && Language_1.safeEq(observable.value, value)) {
                observable.value = null;
                this_.checked = true;
            }
            else if (!(Language_1.safeEq(observable.value, value))) {
                observable.value = value;
                this_.checked = true;
            }
            suppress = false;
        }
    });
}
exports.androidWidgetCompoundButtonBindSelectInvert = androidWidgetCompoundButtonBindSelectInvert;
//! Declares com.lightningkite.khrysalis.observables.binding.bind>android.widget.CompoundButton
function androidWidgetCompoundButtonBind(this_, observable) {
    fixInput(this_);
    DisposeCondition_actual_1.ioReactivexDisposablesDisposableUntil(ObservableProperty_ext_shared_1.comLightningkiteKhrysalisObservablesObservablePropertySubscribeBy(observable, undefined, undefined, (it) => {
        if (!(it === this_.checked)) {
            this_.checked = it;
        }
    }), DisposeCondition_actual_1.getAndroidViewViewRemoved(this_));
    this_.onchange = ((ev) => {
        const isChecked = this_.checked;
        if (!(observable.value === isChecked)) {
            observable.value = isChecked;
        }
    });
}
exports.androidWidgetCompoundButtonBind = androidWidgetCompoundButtonBind;
//# sourceMappingURL=CompoundButton.binding.actual.js.map