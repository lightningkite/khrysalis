"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// Generated by Khrysalis TypeScript converter - this file will be overwritten.
// File: rx/DisposeCondition.shared.kt
// Package: com.lightningkite.khrysalis.rx
// FQImport: com.lightningkite.khrysalis.rx.DisposeCondition TS DisposeCondition
// FQImport: com.lightningkite.khrysalis.rx.andAllDisposeConditions TS andAllDisposeConditions
// FQImport: com.lightningkite.khrysalis.rx.andAllDisposeConditions.<anonymous>.it TS it
// FQImport: com.lightningkite.khrysalis.rx.DisposableLambda TS DisposableLambda
// FQImport: com.lightningkite.khrysalis.rx.or.other TS other
// FQImport: com.lightningkite.khrysalis.rx.DisposeCondition.call TS call
// FQImport: com.lightningkite.khrysalis.rx.andAllDisposeConditions.<anonymous>.disposalsLeft TS disposalsLeft
// FQImport: com.lightningkite.khrysalis.rx.andAllDisposeConditions.list TS list
// FQImport: com.lightningkite.khrysalis.rx.or.<anonymous>.it TS it
// FQImport: com.lightningkite.khrysalis.rx.and.other TS other
// FQImport: com.lightningkite.khrysalis.rx.andAllDisposeConditions.<anonymous>.item TS item
const DisposeCondition_actual_1 = require("./DisposeCondition.actual");
//! Declares com.lightningkite.khrysalis.rx.DisposeCondition
class DisposeCondition {
    constructor(call) {
        this.call = call;
    }
}
exports.DisposeCondition = DisposeCondition;
//! Declares com.lightningkite.khrysalis.rx.and>com.lightningkite.khrysalis.rx.DisposeCondition
function comLightningkiteKhrysalisRxDisposeConditionAnd(this_, other) { return andAllDisposeConditions([this_, other]); }
exports.comLightningkiteKhrysalisRxDisposeConditionAnd = comLightningkiteKhrysalisRxDisposeConditionAnd;
//! Declares com.lightningkite.khrysalis.rx.andAllDisposeConditions
function andAllDisposeConditions(list) {
    return new DisposeCondition((it) => {
        let disposalsLeft = list.length;
        for (const item of list) {
            item.call(new DisposeCondition_actual_1.DisposableLambda(() => {
                disposalsLeft = disposalsLeft - 1;
                if (disposalsLeft === 0)
                    it.unsubscribe();
            }));
        }
    });
}
exports.andAllDisposeConditions = andAllDisposeConditions;
//! Declares com.lightningkite.khrysalis.rx.or>com.lightningkite.khrysalis.rx.DisposeCondition
function comLightningkiteKhrysalisRxDisposeConditionOr(this_, other) {
    return new DisposeCondition((it) => {
        this_.call(it);
        ;
        other.call(it);
    });
}
exports.comLightningkiteKhrysalisRxDisposeConditionOr = comLightningkiteKhrysalisRxDisposeConditionOr;
