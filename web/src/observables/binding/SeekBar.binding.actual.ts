// Generated by Khrysalis TypeScript converter
// File: observables/binding/SeekBar.binding.actual.kt
// Package: com.lightningkite.khrysalis.observables.binding
import { xObservablePropertySubscribeBy } from '../ObservableProperty.ext.shared'
import { xViewRemovedGet, xDisposableUntil } from '../../rx/DisposeCondition.actual'
import { MutableObservableProperty } from '../MutableObservableProperty.shared'

//! Declares com.lightningkite.khrysalis.observables.binding.bind>android.widget.SeekBar
export function xSeekBarBind(this_: HTMLInputElement, start: number, endInclusive: number, observable: MutableObservableProperty<number>): void {
    this_.min = start.toString()
    this_.max = endInclusive.toString()

    let suppress = false;
    
    xDisposableUntil(xObservablePropertySubscribeBy(observable, undefined, undefined, (value) => {
                if (!suppress) {
                    suppress = true;
                    this_.valueAsNumber = (value);
                    suppress = false;
                }
    }), xViewRemovedGet(this_));
    this_.oninput = (e) => {
        if(!suppress){
            suppress = true;
            observable.value = this_.valueAsNumber;
            suppress = false;
        }
    }
}

