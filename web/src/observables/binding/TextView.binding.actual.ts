// Generated by Khrysalis TypeScript converter
// File: observables/binding/TextView.binding.actual.kt
// Package: com.lightningkite.khrysalis.observables.binding
import {comLightningkiteKhrysalisObservablesObservablePropertySubscribeBy} from '../ObservableProperty.ext.shared'
import {getAndroidViewViewRemoved, ioReactivexDisposablesDisposableUntil} from '../../rx/DisposeCondition.actual'
import {ObservableProperty} from '../ObservableProperty.shared'
import {setViewVisibility} from "../../views/View.ext.actual";
import {setViewText} from "../../views/ViewWithText.ext.actual";

//! Declares com.lightningkite.khrysalis.observables.binding.bindString>android.widget.TextView
export function androidWidgetTextViewBindString(this_: HTMLElement, observable: ObservableProperty<string>): void {
    ioReactivexDisposablesDisposableUntil(comLightningkiteKhrysalisObservablesObservablePropertySubscribeBy(observable, undefined, undefined, (value) => {
        setViewText(this_, value);
    }), getAndroidViewViewRemoved(this_));
}

//! Declares com.lightningkite.khrysalis.observables.binding.bindStringRes>android.widget.TextView
export function androidWidgetTextViewBindStringRes(this_: HTMLElement, observable: ObservableProperty<(string | null)>): void {
    ioReactivexDisposablesDisposableUntil(comLightningkiteKhrysalisObservablesObservablePropertySubscribeBy(observable, undefined, undefined, (value) => {
        setViewVisibility(this_, value === null ? "gone" : "visible");
        if (value !== null) {
            setViewText(this_, value);
        }
    }), getAndroidViewViewRemoved(this_));
}


//! Declares com.lightningkite.khrysalis.observables.binding.bindText>android.widget.TextView
export function androidWidgetTextViewBindText<T>(this_: HTMLElement, observable: ObservableProperty<T>, transform: (a: T) => string): void {
    ioReactivexDisposablesDisposableUntil(comLightningkiteKhrysalisObservablesObservablePropertySubscribeBy(observable, undefined, undefined, (value) => {
        setViewText(this_, transform(value));
    }), getAndroidViewViewRemoved(this_));
}

