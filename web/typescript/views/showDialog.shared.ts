// Generated by Khrysalis TypeScript converter - this file will be overwritten.
// File: views/showDialog.shared.kt
// Package: com.lightningkite.khrysalis.views
import { StandardObservableProperty } from './../observables/StandardObservableProperty.shared'
import { ViewString } from './Strings.shared'
import { DialogRequest, getLastDialog, getShowDialogEvent, showDialog } from './showDialog.shared'

//! Declares com.lightningkite.khrysalis.views.lastDialog
export const _lastDialog = new StandardObservableProperty<(DialogRequest | null)>(null, undefined);
export function getLastDialog(): StandardObservableProperty<DialogRequest> { return _lastDialog; }

//! Declares com.lightningkite.khrysalis.views.showDialogEvent
export const _showDialogEvent: PublishSubject<DialogRequest> = PublishSubject.create();
export function getShowDialogEvent(): PublishSubject<DialogRequest> { return _showDialogEvent; }


//! Declares com.lightningkite.khrysalis.views.DialogRequest
export class DialogRequest {
    public readonly string: ViewString;
    public readonly confirmation: (() => void | null);
    public constructor( string: ViewString,  confirmation: (() => void | null) = null) {
        this.string = string;
        this.confirmation = confirmation;
    }
}

//! Declares com.lightningkite.khrysalis.views.showDialog
export function showDialog(request: DialogRequest){
    getLastDialog().value = request;
    getShowDialogEvent().onNext(request);
}

//! Declares com.lightningkite.khrysalis.views.showDialog
export function showDialog(message: ViewString){
    showDialog(new DialogRequest(message, undefined));
}

