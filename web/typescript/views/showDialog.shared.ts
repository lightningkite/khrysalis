// Generated by Khrysalis TypeScript converter - this file will be overwritten.
// File: views/showDialog.shared.kt
// Package: com.lightningkite.khrysalis.views
// FQImport: com.lightningkite.khrysalis.views.showDialogEvent TS getShowDialogEvent
// FQImport: com.lightningkite.khrysalis.views.showDialogEvent SKIPPED due to same file
// FQImport: com.lightningkite.khrysalis.views.showDialog TS showDialog
// FQImport: com.lightningkite.khrysalis.views.DialogRequest TS DialogRequest
// FQImport: com.lightningkite.khrysalis.views.showDialog.message TS message
// FQImport: com.lightningkite.khrysalis.views.lastDialog TS getLastDialog
// FQImport: com.lightningkite.khrysalis.views.showDialog.request TS request
// FQImport: com.lightningkite.khrysalis.views.showDialog SKIPPED due to same file
// FQImport: com.lightningkite.khrysalis.views.lastDialog SKIPPED due to same file
// FQImport: com.lightningkite.khrysalis.views.ViewString TS ViewString
// FQImport: com.lightningkite.khrysalis.views.DialogRequest SKIPPED due to same file
// FQImport: com.lightningkite.khrysalis.observables.StandardObservableProperty TS StandardObservableProperty
// FQImport: com.lightningkite.khrysalis.observables.StandardObservableProperty.value TS value
import { StandardObservableProperty } from './../observables/StandardObservableProperty.shared'
import { ViewString } from './Strings.shared'
import { Subject } from 'rxjs'

//! Declares com.lightningkite.khrysalis.views.lastDialog
export const _lastDialog = new StandardObservableProperty<(DialogRequest | null)>(null, undefined);
export function getLastDialog(): StandardObservableProperty<DialogRequest> { return _lastDialog; }

//! Declares com.lightningkite.khrysalis.views.showDialogEvent
export const _showDialogEvent: Subject<DialogRequest> = new Subject();
export function getShowDialogEvent(): Subject<DialogRequest> { return _showDialogEvent; }


//! Declares com.lightningkite.khrysalis.views.DialogRequest
export class DialogRequest {
    public readonly _string: ViewString;
    public readonly confirmation: (() => void | null);
    public constructor(_string: ViewString, confirmation: (() => void | null) = null) {
        this._string = _string;
        this.confirmation = confirmation;
    }
}

//! Declares com.lightningkite.khrysalis.views.showDialog
export function showDialog(request: DialogRequest): void{
    getLastDialog().value = request;
    getShowDialogEvent().next(request);
}

//! Declares com.lightningkite.khrysalis.views.showDialog
export function showDialogAlert(message: ViewString): void{
    showDialog(new DialogRequest(message, undefined));
}

