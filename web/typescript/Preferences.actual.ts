// Generated by Khrysalis TypeScript converter - this file will be overwritten.
// File: Preferences.actual.kt
// Package: com.lightningkite.khrysalis
// FQImport: com.lightningkite.khrysalis.Preferences.set.T TS T
// FQImport: android.content.SharedPreferences.Editor.clear TS clear
// FQImport: com.lightningkite.khrysalis.Preferences.get.T TS T
// FQImport: com.lightningkite.khrysalis.Preferences.get.key TS key
// FQImport: android.content.SharedPreferences TS SharedPreferences
// FQImport: com.lightningkite.khrysalis.Preferences.sharedPreferences TS sharedPreferences
// FQImport: com.lightningkite.khrysalis.Preferences.set.key TS key
// FQImport: android.content.SharedPreferences.Editor.putString TS putString
// FQImport: com.lightningkite.khrysalis.Preferences.set.value TS value
// FQImport: android.content.SharedPreferences.Editor.remove TS remove
// FQImport: android.content.SharedPreferences.Editor.apply TS apply
// FQImport: com.lightningkite.khrysalis.Preferences.remove.key TS key
// FQImport: android.content.SharedPreferences.edit TS edit
// FQImport: com.lightningkite.khrysalis.toJsonString TS kotlinAnyToJsonString
// FQImport: com.lightningkite.khrysalis.IsCodable TS IsCodable
// FQImport: android.content.SharedPreferences.getString TS getString
// FQImport: com.lightningkite.khrysalis.fromJsonString TS kotlinStringFromJsonString
import { IsCodable, kotlinAnyToJsonString, kotlinStringFromJsonString } from './Codable.actual'

//! Declares com.lightningkite.khrysalis.Preferences
export class Preferences {
    private constructor() {
    }
    public static INSTANCE = new Preferences();
    
    
    public sharedPreferences: SharedPreferences;
    
    
    set<T>(key: string, value: T){
        sharedPreferences.edit().putString(key, kotlinAnyToJsonString(value)).apply();
    }
    
    remove(key: string){
        sharedPreferences.edit().remove(key).apply();
    }
    
    get<T extends IsCodable>(key: string): (T | null){
        return sharedPreferences.getString(key, null)?.kotlinStringFromJsonString();
    }
    
    clear(){
        sharedPreferences.edit().clear().apply();
    }
}

