// Generated by Khrysalis TypeScript converter
// File: /home/josephivie/IdeaProjects/khrysalis/kotlin-compiler-plugin-typescript/testData/testOperators.shared.kt
// Package: com.test.operators
import { ExampleImmutableThing, ExampleMutableThing } from './testOperators.shared'
import { NumberRange } from 'khrysalis/dist/Kotlin'

//! Declares com.test.operators.ExampleMutableThing
export class ExampleMutableThing {
    
    public containedNumber: number = 0;
    
    public plus(other: ExampleMutableThing): ExampleMutableThing{
        const result = new ExampleMutableThing();
        
        result.containedNumber = this.containedNumber + other.containedNumber;
        return result;
    }
    
    public plusAssign(other: ExampleMutableThing){
        this.containedNumber = this.containedNumber + other.containedNumber;
    }
    
    public get(index: number): number{ return this.containedNumber + index; }
    public set(index: number, value: number): number{ return value - index; }
}

//! Declares com.test.operators.ExampleImmutableThing
export class ExampleImmutableThing {
    
    public containedNumber: number = 0;
    
    public plus(other: ExampleImmutableThing): ExampleImmutableThing{
        const result = new ExampleImmutableThing();
        
        result.containedNumber = this.containedNumber + other.containedNumber;
        return result;
    }
    
    public unaryMinus(): ExampleImmutableThing{
        const result = new ExampleImmutableThing();
        
        result.containedNumber = -this.containedNumber;
        return result;
    }
    
    public get(index: number): number{ return this.containedNumber + index; }
}

//! Declares com.test.operators.main
export function main(){
    let x: number = 2;
    
    
    //Normal operators
    console.log(1 + x);
    console.log(1 - x);
    console.log(1 * x);
    console.log(1 / x);
    console.log(1 % x);
    console.log(1 > x);
    console.log(1 < x);
    console.log(1 >= x);
    console.log(1 <= x);
    console.log(!(1 === x));
    console.log(1 === x);
    
    //Direct calls
    console.log(1 + x);
    console.log(1 - x);
    console.log(1 * x);
    console.log(1 / x);
    console.log(1 % x);
    
    //Assign operators
    x = x + 1;
    x = x - 1;
    x = x * 2;
    x = x / 2;
    x = x % 1;
    x = -x;
    console.log(x);
    
    //Psuedo-operators
    x = x << 1;
    x = x >> 1;
    x = x >>> 1;
    x = x & 1;
    x = x | 1;
    x = x ^ 1;
    x = ~1;
    
    //Overloading
    const thing1 = new ExampleImmutableThing();
    
    thing1.containedNumber = 1;
    const thing2 = new ExampleImmutableThing();
    
    thing2.containedNumber = 2;
    
    const thing3 = thing1.plus(thing2);
    
    console.log(thing3.containedNumber);
    
    console.log(thing3.get(1));
    
    const thing4 = thing3.unaryMinus();
    
    console.log(thing4.containedNumber);
    
    let thing5 = thing4;
    
    thing5 = thing5.plus(thing1);
    console.log(thing5.containedNumber);
    
    const mthing1 = new ExampleMutableThing();
    
    mthing1.containedNumber = 1;
    const mthing2 = new ExampleMutableThing();
    
    mthing2.containedNumber = 2;
    mthing1.plusAssign(mthing2);
    console.log(mthing1.containedNumber);
    console.log(mthing1.get(2));
    const array113 = mthing1;
    const index114 = 2;
    array113.set(index114, 8);
    const array115 = mthing1;
    const index116 = 2;
    array115.set(index116, array115.get(index116) + 8);
    console.log(mthing1.get(1));
    
    //Binary
    console.log(true && true);
    console.log(true || false);
    
    //Ranges
    for (const num of new NumberRange(1, 6)) {
        console.log(num);
    }
    console.log(new NumberRange(1, 6).contains(3));
    
    //Containers
    const choices = [1, 2, 3, 4];
    
    console.log((choices.indexOf(5) != -1));
    console.log(!((choices.indexOf(5) != -1)));
}
